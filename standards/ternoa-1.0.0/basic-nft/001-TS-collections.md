# Basic NFT Collections Technical Specifications

## Title
TSP Number: TSP-001
Authors: @markopoloparadox, @peshwar9
Status: Call for Feedback
Created: 2022-08-25
Reference Implementation [Link to a first reference implementation]

## Summary
A summary of the standard and the addressed issue. TODO

## Motivation
The motivation should describe what motivated the development of the standard as well as why particular decisions were made. TODO

## Specification
### Blockcahin Extrinsic Interfaces:
```json
[
  {
    "module": "nft",
    "call": "create_collection",
    "description": "Creates an on-chain collection.",
    "privilege_level": "Signed",
    "parameters": [
      {
        "name": "origin",
        "type": "OriginFor<T>",
        "description": "",
        "constraints": [
          "The caller needs to be of signed origin."
        ]
      },
      {
        "name": "offchain_data",
        "type": "U8BoundedVec<CollectionOffchainDataLimit>",
        "description": "Content or Path to collection metadata. This can be an IPFS reference, link to a custom web location or just plain text.",
        "constraints": [
          "The length cannot be longer than CollectionOffchainDataLimit limit."
        ],
        "examples": [
          "QmUcXT3zVGtvpoeFXun32BGGUtWTyuQi1C3obBpbMVjncU",
          "https://cdn.pixabay.com/photo/2018/12/17/07/43/labrador-3879893_960_720.jpg",
          "Max the Dog #4"
        ]
      },
      {
        "name": "limit",
        "type": "Option<u32>",
        "description": "If provided, sets the maximum amount of NFTs that can be associated with that collection.",
        "constraints": "The value cannot be more than the CollectionSizeLimit limit."
      }
    ],
    "events": [
      {
        "module": "nft",
        "name": "CollectionCreated",
        "fields": [
          {
            "name": "collection_id",
            "type": "CollectionId",
            "description": "The autogenerated ID of the collection."
          },
          {
            "name": "owner",
            "type": "AccountId",
            "description": "The account address of the collection creator."
          },
          {
            "name": "offchain_data",
            "type": "U8BoundedVec<CollectionOffchainDataLimit>",
            "description": "Content or Path to collection metadata"
          },
          {
            "name": "limit",
            "type": "Option<u32>",
            "description": "If available, it represents the maximum of NFTs that can be associated with that collection."
          }
        ]
      }
    ],
    "errors": [
      "nft::CollectionLimitExceededMaximumAllowed"
    ]
  },
  {
    "module": "nft",
    "call": "burn_collection",
    "description": "Removes a collection from storage. This operation is irreversible.",
    "privilege_level": "Signed",
    "parameters": [
      {
        "name": "origin",
        "type": "OriginFor<T>",
        "description": "",
        "constraints": [
          "The caller needs to be of signed origin."
        ]
      },
      {
        "name": "collection_id",
        "type": "CollectionId",
        "description": "ID of the collection that needs to be removed from storage.",
        "constraints": [
          "The caller needs to be the owner of the collection."
        ]
      }
    ],
    "events": [
      {
        "module": "nft",
        "name": "CollectionBurned",
        "fields": [
          {
            "name": "collection_id",
            "type": "CollectionId",
            "description": "The ID of the collection that was removed from storage."
          }
        ]
      }
    ],
    "errors": [
      "nft::CollectionNotFound",
      "nft::NotTheCollectionOwner",
      "nft::CollectionIsNotEmpty"
    ]
  },
  {
    "module": "nft",
    "call": "close_collection",
    "description": "Closes a collection so that no new NFTs cannot be associated with this collection.",
    "privilege_level": "Signed",
    "parameters": [
      {
        "name": "origin",
        "type": "OriginFor<T>",
        "description": "",
        "constraints": [
          "The caller needs to be of signed origin."
        ]
      },
      {
        "name": "collection_id",
        "type": "CollectionId",
        "description": "The ID of the collection that needs to be closed.",
        "constraints": [
          "The caller needs to be the owner of the collection."
        ]
      }
    ],
    "events": [
      {
        "module": "nft",
        "name": "CollectionClosed",
        "fields": [
          {
            "name": "collection_id",
            "type": "CollectionId",
            "description": "The ID of the collection that was closed."
          }
        ]
      }
    ],
    "errors": [
      "nft::CollectionNotFound",
      "nft::NotTheCollectionOwner"
    ]
  },
  {
    "module": "nft",
    "call": "limit_collection",
    "description": "Limits a collection so that no more than the limit amount of NFTs can be associated with this collection.",
    "privilege_level": "Signed",
    "parameters": [
      {
        "name": "origin",
        "type": "OriginFor<T>",
        "description": "",
        "constraints": [
          "The caller needs to be of signed origin."
        ]
      },
      {
        "name": "collection_id",
        "type": "CollectionId",
        "description": "The ID of the collection that needs to be closed.",
        "constraints": [
          "The caller needs to be the owner of the collection."
        ]
      },
      {
        "name": "limit",
        "type": "u32",
        "description": "The maximum amount of NFTs that can be associated with a collection.",
        "constraints": [
          "The limit value needs to be bigger or equal to the existing mount of NFTs in the collection. The value cannot be more than the CollectionSizeLimit limit."
        ]
      }
    ],
    "events": [
      {
        "module": "nft",
        "name": "CollectionLimited",
        "fields": [
          {
            "name": "collection_id",
            "type": "CollectionId",
            "description": "The ID of the collection that was limited."
          },
          {
            "name": "limit",
            "type": "u32",
            "description": "The new maximum amount of NFTs that can be associated with a collection."
          }
        ]
      }
    ],
    "errors": [
      "nft::CollectionNotFound",
      "nft::NotTheCollectionOwner",
      "nft::CollectionLimitAlreadySet",
      "nft::CollectionIsClosed",
      "nft::CollectionHasTooManyNFTs",
      "nft::CollectionLimitExceededMaximumAllowed"
    ]
  },
  {
    "module": "nft",
    "call": "add_nft_to_collection",
    "description": "Associates an NFT with a collection.",
    "privilege_level": "Signed",
    "parameters": [
      {
        "name": "origin",
        "type": "OriginFor<T>",
        "description": "",
        "constraints": [
          "The caller needs to be of signed origin."
        ]
      },
      {
        "name": "nft_id",
        "type": "NFTId",
        "description": "The ID of the NFT that needs to associated with a collection.",
        "constraints": [
          "The caller needs to be the owner of the NFT.",
          "The NFT needs to be not associated with any collection."
        ]
      },
      {
        "name": "collection_id",
        "type": "CollectionID",
        "description": "The ID of the collection that needs to associated with an NFT.",
        "constraints": [
          "The caller needs to be the owner of the collection.",
          "The collection cannot be closed",
          "The collection needs to have less NFT associated with it than the maximum limit."
        ]
      }
    ],
    "events": [
      {
        "module": "nft",
        "name": "NFTAddedToCollection",
        "fields": [
          {
            "name": "nft_id",
            "type": "NFTId",
            "description": "The ID of the NFT that was associated with a collection."
          },
          {
            "name": "collection_id",
            "type": "CollectionId",
            "description": "The ID of the collection that was associated with a NFT."
          }
        ]
      }
    ],
    "errors": [
      "nft::CollectionNotFound",
      "nft::NotTheCollectionOwner",
      "nft::CollectionIsClosed",
      "nft::CollectionHasReachedLimit",
      "nft::NFTNotFound",
      "nft::NotTheNFTOwner",
      "nft::NFTBelongToACollection",
      "nft::CannotAddMoreNFTsToCollection"
    ]
  }
]
```

### SDK Storage Getters